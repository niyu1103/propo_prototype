(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(32),r=c.n(a),i=(c(41),c(42),c(5)),o=c(9),l=c(8),j=c(0),d=Object(n.memo)((function(e){var t=e.isPlaying,c=e.onPlayClick;return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)("i",{id:"stop",className:"material-icons",onClick:function(){return c(!1)},children:"pause_circle_outline"}):Object(j.jsx)("i",{id:"play",className:"material-icons",onClick:function(){return c(!0)},children:"play_circle_outline"})})})),u=Object(n.createContext)({}),b=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(l.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(0),o=Object(l.a)(i,2),d=o[0],b=o[1],m=Object(n.useState)(!1),h=Object(l.a)(m,2),x=h[0],O=h[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),g=f[0],v=f[1],_=Object(n.useState)(!1),k=Object(l.a)(_,2),y=k[0],C=k[1];return Object(j.jsx)(u.Provider,{value:{trackList:a,setTrackList:r,trackIndex:d,setTrackIndex:b,isPlaying:x,setIsPlaying:O,firstTimeReady:g,setFirstTimeReady:v,channelInfo:y,setChannelInfo:C},children:t})},m=c(33),h=c.n(m),x=Object(n.memo)((function(){var e=Object(n.useContext)(u),t=e.trackList,c=e.setTrackList,s=e.trackIndex,a=e.setTrackIndex,r=e.isPlaying,i=e.setIsPlaying,b=e.firstTimeReady,m=e.channelInfo;console.log(t);var x=Object(n.useState)(0),O=Object(l.a)(x,2),p=O[0],f=O[1],g=t[0],v=g.title,_=g.created_at,k=g.file_url,y=(g.image,g.file_duration);console.log(k),console.log(s);var C=Object(n.useRef)(new Audio(k)),N=Object(n.useRef)(),I=Object(n.useRef)(!1);console.log("audioRef",C);var T=C.current.duration,w=T?"".concat(Math.floor(p/T*100),"%"):"0%",L=T?"".concat(Math.floor(p/T/2*100),"%"):"0%",P="-webkit-gradient(linear, 0% 0%, 100% 0%, color-stop(".concat(w,", #c22c46), color-stop(").concat(w,", lightgray))"),R=function(e){var t=("0"+Math.floor(e%60)).slice(-2),c=("0"+Math.floor(e/60%60)).slice(-2);return("0"+Math.floor(e/60/60)).slice(-2)+":"+c+":"+t},E=function(){clearInterval(N.current),N.current=setInterval((function(){if(C.current.ended){F();var e=Object(o.a)(t);e.shift(),c(e)}else f(C.current.currentTime)}),[1e3])},S=function(){r||i(!0),E()},F=function(){s<t.length-1?a(s+1):a(0)};console.log(C.current.currentTime);var M=Object(n.useCallback)((function(){.9<C.current.volume?C.current.volume=1:C.current.volume+=.1})),A=Object(n.useCallback)((function(){C.current.volume<.1?C.current.volume=0:C.current.volume-=.1}));return Object(n.useEffect)((function(){r?(C.current.play(),E()):C.current.pause()}),[r]),Object(n.useEffect)((function(){C.current.pause(),C.current=new Audio(k),f(C.current.currentTime),I.current||b?(C.current.play(),i(!0),E()):I.current=!0}),[k,s]),Object(n.useEffect)((function(){return function(){C.current.pause(),clearInterval(N.current)}}),[]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{id:"player",className:"app",children:[Object(j.jsxs)("div",{id:"audio_thumb",children:[Object(j.jsx)("img",{className:"ep_img",src:m.thumb,width:"160",height:"160"}),Object(j.jsx)(d,{isPlaying:r,onPlayClick:i})]}),Object(j.jsxs)("div",{id:"audio_desc",children:[Object(j.jsx)("div",{className:"ep-date",children:h()(_).format("YYYY.M.D")}),Object(j.jsxs)("div",{className:"ep-title",children:[v,Object(j.jsx)("span",{className:"sp-nodisp"})]}),Object(j.jsxs)("div",{id:"timebar-range",children:[Object(j.jsx)("input",{type:"range",value:p,step:"1",min:"0",max:T||"".concat(T),className:"progress",onChange:function(e){return t=e.target.value,clearInterval(N.current),C.current.currentTime=t,void f(C.current.currentTime);var t},onMouseUp:S,onKeyUp:S,style:{background:P}}),Object(j.jsx)("div",{id:"timebar-range-num",style:{left:L},children:w})]}),Object(j.jsxs)("div",{className:"control_area",children:[Object(j.jsxs)("span",{id:"time_disp",children:[R(C.current.currentTime)," /"," ",R(y)]}),Object(j.jsxs)("div",{className:"volume_control_area",children:[Object(j.jsx)("button",{className:"volume_btn",onClick:function(){console.log("audioRef.current.muted",C.current.muted),C.current.muted=!C.current.muted},children:C.current.muted?"\u97f3\u91cf\u3042\u308a":"\u97f3\u91cf\u306a\u3057"}),Object(j.jsx)("button",{className:"volume_btn",onClick:A,children:"\u97f3\u91cf\u4e0b\u3052\u308b"}),Object(j.jsx)("button",{className:"volume_btn",onClick:M,children:"\u97f3\u91cf\u4e0a\u3052\u308b"})]}),Object(j.jsxs)("div",{className:"time_control_area",children:[Object(j.jsx)("span",{children:Object(j.jsx)("img",{id:"playback",onClick:function(){clearInterval(N.current),C.current.currentTime=C.current.currentTime-15,f(C.current.currentTime),E()},src:"https://propo.fm/image/rewind.png",width:"23",alt:"rewind"})}),Object(j.jsx)("span",{children:Object(j.jsx)("img",{id:"skip",onClick:function(){clearInterval(N.current),C.current.currentTime=C.current.currentTime+30,f(C.current.currentTime),E()},src:"https://propo.fm/image/skip.png",width:"23",alt:"skip"})}),Object(j.jsxs)("span",{id:"speed_ctrl",onClick:function(){for(var e=[1,1.3,1.5,2,.5,.7],t=C.current.playbackRate,c=e[0],n=!1,s=0;s<e.length;s++)if(e[s]!==t){if(n){c=e[s];break}}else n=!0;C.current.playbackRate=c},children:[C.current.playbackRate.toFixed(2),"x"]})]})]})]})]})})})),O=(c.p,c.p,c.p,c.p,c.p,Object(n.memo)((function(){var e=Object(n.useContext)(u),t=e.trackList,c=e.setTrackList,s=function(e){var n=Object(o.a)(t);n.splice(e,1),c(n)};return Object(j.jsx)("section",{className:"page playList",children:Object(j.jsxs)("div",{className:"mvContainer__box2",children:[Object(j.jsx)("h3",{children:"AudioPlayerList"}),Object(j.jsx)("ul",{children:t.map((function(e,t){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("li",{children:[e.title,Object(j.jsx)("button",{onClick:s.bind(undefined,t),className:"mvDelBtn",children:"\u524a\u9664"})]},e.id)})}))})]})})}))),p=Object(n.memo)((function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"\u30dd\u30c3\u30c9\u30ad\u30e3\u30b9\u30c8\uff08Podcast\uff09"}),Object(j.jsx)(i.b,{to:"/radiohistory",children:"\u30e9\u30b8\u30ec\u30ad \u301c\u30e9\u30b8\u30aa\u6b74\u53f2\u5c0f\u8a71\u301c"})]})})),f=c(3),g=Object(n.memo)((function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"404\u30da\u30fc\u30b8\u3067\u3059"}),Object(j.jsx)(i.b,{to:"/radiohistory",children:"\u30e9\u30b8\u30ec\u30ad \u301c\u30e9\u30b8\u30aa\u6b74\u53f2\u5c0f\u8a71\u301c"})]})})),v=c(36),_=c(10),k=c.n(_),y=Object(n.memo)((function(){var e=Object(f.f)().id,t=Object(n.useContext)(u),c=t.trackList,s=t.setTrackList,a=t.trackIndex,r=(t.setTrackIndex,t.isPlaying),d=t.setIsPlaying,b=t.setFirstTimeReady,m=t.channelInfo;t.setChannelInfo;console.log("page_id",e),console.log("trackList",c);var h=function(e){console.log("ApiFetch_id",e);var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1];return console.log("\u3053\u3053\u306f\uff1f\u901a\u3063\u305f\uff01"),{getEpisode:Object(n.useCallback)((function(){console.log("\u901a\u3063\u305f\uff01"),"517"===e?(console.log("517axios"),k.a.get("https://api.json-generator.com/templates/WqGcLYvojWBC/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){a(e.data),console.log("517axios.res.data",e.data)}))):"518"===e?(console.log("518axios"),k.a.get("https://api.json-generator.com/templates/O-xcv2SiR9dL/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){a(e.data)}))):"365"===e?(console.log("365axios"),k.a.get("https://api.json-generator.com/templates/oHnEl6sllb86/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){a(e.data)}))):"366"===e?(console.log("366axios"),k.a.get("https://api.json-generator.com/templates/r-9gwrJr2q0p/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){a(e.data)}))):"367"===e&&(console.log("367axios"),k.a.get("https://api.json-generator.com/templates/cRvuCQN-Iwc3/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){a(e.data)})))})),episode:s}}(e),x=h.getEpisode,O=h.episode;Object(n.useEffect)((function(){return x()}),[]);var p=O;console.log("currentItem",p),console.log("episode",O);var g=function(){var e=[].concat(Object(o.a)(c),[p]);s(e)},_=function(){if(r){console.log("trackIndex",a);var t=Object(v.a)(c),n=(t[0],t.slice(1)),i=[p].concat(Object(o.a)(n));s(i)}else if(c.length>0){if(c[0].num!=e){var l=[p].concat(Object(o.a)(c));console.log("newItems",l),s(l)}d(!0)}else{console.log("currentItem",p);var j=[].concat(Object(o.a)(c),[p]);s(j),console.log("trackList",c),d(!0),b(!0)}},y=!1;return r&&(console.log("trackList[0].num",c[0].num),y=c[0].num==e),Object(j.jsxs)("section",{className:"page",children:[Object(j.jsxs)("div",{class:"mvContainer__box clearfix is_black",children:[Object(j.jsx)("div",{class:"mvContainer__box__img",children:Object(j.jsx)("a",{href:"#",children:Object(j.jsx)("img",{src:m.thumb,width:"170",height:"170",alt:"\u30e9\u30b8\u30ec\u30ad \u301c\u30e9\u30b8\u30aa\u6b74\u53f2\u5c0f\u8a71\u301c "})})}),Object(j.jsxs)("div",{class:"mvContainerSmall__box__desc",children:[Object(j.jsxs)("h1",{class:"mvContainer__box__desc__title",children:["Episode",e]}),Object(j.jsx)("p",{class:"mvContainer__box__desc__detail",children:p.title}),Object(j.jsx)("div",{className:"mvContainer_btn",children:y?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:g,className:"mvAddBtn",disabled:!0,children:"\u8ffd\u52a0"}),Object(j.jsx)("button",{onClick:_,className:"mvPlayBtn",disabled:!0,children:"\u518d\u751f\u4e2d"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:g,className:"mvAddBtn",children:"\u8ffd\u52a0"}),Object(j.jsx)("button",{onClick:_,className:"mvPlayBtn",children:"\u518d\u751f"})]})})]})]}),Object(j.jsx)("div",{className:"mvContainer__box2",children:Object(j.jsx)(i.b,{to:"/radiohistory",className:"arrow_article_btn",children:"\u5168\u3066\u306e\u30a8\u30d4\u30bd\u30fc\u30c9"})})]})})),C=Object(n.memo)((function(){var e=Object(n.useContext)(u),t=e.channelInfo,c=e.setChannelInfo,s=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];return{getChannel:Object(n.useCallback)((function(){console.log("channelrequest"),k.a.get("https://api.json-generator.com/templates/6QfiqW5sFcq2/data?access_token=4utms16rwydj0x46jxugim3aklmmsiefle5olrmj").then((function(e){s(e.data),console.log("channelrequest.res.data",e.data)})).catch((function(e){return console.log(e)}))}),[]),channel:c}}(),a=s.getChannel,r=s.channel;return console.log("channel",r),Object(n.useEffect)((function(){return a()}),[]),c(r),console.log("channelInfo",t),Object(j.jsxs)("section",{className:"page",children:[Object(j.jsxs)("div",{className:"mvContainer__box clearfix is_black",children:[Object(j.jsx)("div",{className:"mvContainer__box__img",children:Object(j.jsx)("a",{href:"#",children:Object(j.jsx)("img",{src:t.thumb,width:"233",height:"233",alt:"\u30e9\u30b8\u30ec\u30ad \u301c\u30e9\u30b8\u30aa\u6b74\u53f2\u5c0f\u8a71\u301c "})})}),Object(j.jsxs)("div",{className:"mvContainerSmall__box__desc",children:[Object(j.jsx)("h1",{className:"mvContainer__box__desc__title",children:t.aboutus_title}),Object(j.jsx)("p",{className:"mvContainer__box__desc__detail",children:t.desc})]})]}),Object(j.jsxs)("div",{className:"mvContainer__box2",children:[Object(j.jsx)("h3",{children:"Episodes"}),Object(j.jsxs)("div",{className:"allEpisodes__content",children:[Object(j.jsxs)(i.b,{to:"/radiohistory/518",className:"episode-item",children:["\u30a8\u30d4\u30bd\u30fc\u30c9",Object(j.jsx)("span",{children:"0518"})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"/radiohistory/517",className:"episode-item",children:["\u30a8\u30d4\u30bd\u30fc\u30c9",Object(j.jsx)("span",{children:"0517"})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"/radiohistory/365",className:"episode-item",children:["\u30a8\u30d4\u30bd\u30fc\u30c9",Object(j.jsx)("span",{children:"0365"})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"/radiohistory/366",className:"episode-item",children:["\u30a8\u30d4\u30bd\u30fc\u30c9",Object(j.jsx)("span",{children:"0366"})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"/radiohistory/367",className:"episode-item",children:["\u30a8\u30d4\u30bd\u30fc\u30c9",Object(j.jsx)("span",{children:"0367"})]})]})]})]})})),N=[{path:"/",exact:!0,children:Object(j.jsx)(C,{})},{path:"/:id",exact:!1,children:Object(j.jsx)(y,{})}],I=Object(n.memo)((function(){return Object(j.jsxs)(f.c,{children:[Object(j.jsx)(f.a,{exact:!0,path:"/",children:Object(j.jsx)(p,{})}),Object(j.jsx)(f.a,{path:"/radiohistory",render:function(e){var t=e.match.url;return Object(j.jsx)(f.c,{children:N.map((function(e){return Object(j.jsx)(f.a,{exact:e.exact,path:"".concat(t).concat(e.path),children:e.children},e.path)}))})}}),Object(j.jsx)(f.a,{path:"*",children:Object(j.jsx)(g,{})})]})}));var T=function(){var e=Object(n.useContext)(u).trackList;return console.log(e),Object(j.jsxs)(i.a,{basename:".",children:[Object(j.jsx)(I,{}),e.length>0&&Object(j.jsx)(O,{}),e.length>0&&Object(j.jsx)(x,{})]})};c(72);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(T,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.77412ec9.chunk.js.map