(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var r=c(1),i=c.n(r),n=c(4),a=c.n(n),s=(c(9),c(2)),l=c(0),u=Object(r.memo)((function(e){var t=e.isPlaying,c=e.onPlayClick;return Object(l.jsx)(l.Fragment,{children:t?Object(l.jsx)("i",{id:"play",className:"material-icons",onClick:function(){return c(!1)},children:"play_circle_outline"}):Object(l.jsx)("i",{id:"stop",className:"material-icons",onClick:function(){return c(!0)},children:"pause_circle_outline"})})})),o=Object(r.memo)((function(e){var t=e.tracks,c=Object(r.useState)(0),i=Object(s.a)(c,2),n=i[0],a=i[1],o=Object(r.useState)(0),d=Object(s.a)(o,2),p=d[0],j=d[1],m=Object(r.useState)(!1),b=Object(s.a)(m,2),h=b[0],O=b[1],g=t[n],f=g.title,x=g.date,v=g.audioSrc,_=g.image,k=g.audioTime,y=Object(r.useRef)(new Audio(v)),S=Object(r.useRef)(),T=Object(r.useRef)(!1);console.log(y);var w=y.current.duration,N=w?"".concat(Math.floor(p/w*100),"%"):"0%",E=function(){clearInterval(S.current),S.current=setInterval((function(){y.current.ended?F():j(y.current.currentTime)}),[1e3])},F=function(){n<t.length-1?a(n+1):a(0)},I={width:N};console.log(y.current.currentTime);return Object(r.useEffect)((function(){h?(y.current.play(),E()):y.current.pause()}),[h]),Object(r.useEffect)((function(){y.current.pause(),y.current=new Audio(v),j(y.current.currentTime),T.current?(y.current.play(),O(!0),E()):T.current=!0}),[n]),Object(r.useEffect)((function(){return function(){y.current.pause(),clearInterval(S.current)}}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("div",{id:"player",className:"app",children:[Object(l.jsxs)("div",{id:"audio_thumb",children:[Object(l.jsx)("img",{className:"ep_img",src:_,width:"160",height:"160"}),Object(l.jsx)(u,{isPlaying:h,onPlayClick:O})]}),Object(l.jsxs)("div",{id:"audio_desc",children:[Object(l.jsx)("div",{className:"ep-date",children:x}),Object(l.jsxs)("div",{className:"ep-title",children:[f,Object(l.jsx)("span",{className:"sp-nodisp"})]}),Object(l.jsx)("div",{id:"timebar",children:Object(l.jsx)("div",{id:"timebar-bg",children:Object(l.jsx)("div",{id:"timebar-past",style:I,children:Object(l.jsx)("div",{id:"timebar-num",children:N})})})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{id:"time_disp",children:[function(e){var t=("0"+Math.floor(e%60)).slice(-2),c=("0"+Math.floor(e/60%60)).slice(-2);return("0"+Math.floor(e/60/60)).slice(-2)+":"+c+":"+t}(y.current.currentTime)," / ",k]}),Object(l.jsxs)("p",{className:"time_control_area",children:[Object(l.jsx)("span",{children:Object(l.jsx)("img",{id:"playback",onClick:function(){clearInterval(S.current),y.current.currentTime=y.current.currentTime-15,j(y.current.currentTime),E()},src:"https://propo.fm/image/rewind.png",width:"23",alt:"rewind"})}),Object(l.jsx)("span",{children:Object(l.jsx)("img",{id:"skip",onClick:function(){clearInterval(S.current),y.current.currentTime=y.current.currentTime+30,j(y.current.currentTime),E()},src:"https://propo.fm/image/skip.png",width:"23",alt:"skip"})}),Object(l.jsxs)("span",{id:"speed_ctrl",onClick:function(){for(var e=[1,1.3,1.5,2,.5,.7],t=y.current.playbackRate,c=e[0],r=!1,i=0;i<e.length;i++)if(e[i]!==t){if(r){c=e[i];break}}else r=!0;y.current.playbackRate=c},children:[y.current.playbackRate.toFixed(2),"x"]})]})]})]})]})})})),d=Object(r.memo)((function(){return Object(l.jsx)(l.Fragment,{})})),p=[{title:"0518_\u4e2d\u56fd\u306e\u7b2c2\u4e09\u56fd\u5fd7\u3002\u667a\u52c7\u517c\u5099\u30fb\u97f3\u5bb9\u517c\u7f8e\u306e\u30a4\u30b1\u30e1\u30f3\u7687\u65cf\u862d\u9675\u738b\u306f\u4e0d\u6557\u306e\u540d\u5c06",date:"2021.05.11",audioSrc:c.p+"static/media/20210430_113621_533_radiohistory_ep0518.ca72e8b5.mp3",image:"https://storage.googleapis.com/propo-apollo.appspot.com/users/X4wgS1qpQSSvTW5FSTPgO9HyS8B2/channels/FEPdlmxIDrgN6wYk0EK0/images/radireki_thumbnail_280x280.jpg",audioTime:"00:15:01"},{title:"0517_\u300c\u591a\u6570\u6c7a\u304c\u6c11\u4e3b\u4e3b\u7fa9\u3067\u306f\u306a\u3044\u300d\u3068\u8aac\u3044\u305f\u30eb\u30bd\u30fc\u306e\u793e\u4f1a\u5951\u7d04\u8ad6",date:"2021.05.07",audioSrc:c.p+"static/media/20210424_105237_279_radiohistory_ep0517.b513b552.mp3",image:"https://storage.googleapis.com/propo-apollo.appspot.com/users/X4wgS1qpQSSvTW5FSTPgO9HyS8B2/channels/FEPdlmxIDrgN6wYk0EK0/images/radireki_thumbnail_280x280.jpg",audioTime:"00:15:52"}];var j=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o,{tracks:p}),Object(l.jsx)(d,{})]})};c(11);a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[12,1,2]]]);
//# sourceMappingURL=main.ba9c00d4.chunk.js.map